# 调用堆栈
## 1.1 理解JavaScript中的执行上下文和执行栈
**执行上下文的类型**
执行上下文共三种类型：
1. 全局执行上下文。只有一个，浏览器中的全局对象是window,this指向之歌全局对象。
2. 函数执行上下文。存在多个，只有在函数被调用的时候才会被创建，每次调用函数都会创建一个新的执行上下文。
3. eval执行上下文。指的是运行在eval函数中的代码。

**执行栈**
执行栈也叫调用栈。栈是FILO规则的。

1. 首次运行js代码时，会创建一个全局执行上下文并push到当前的执行栈中。
2. 发生函数调用时，会创建一个新的函数执行上下文并push到当前的执行栈中。
3. 当栈顶函数执行完成后，其对应的函数执行上下文将会从执行栈中pop出

**执行上下文的创建**
执行上下文分为两个阶段：
1. 创建阶段
2. 执行阶段

**创建阶段**
* 确定this，this Binding。
* LexicalEnvironment(词法环境)组件被创建。
* VariableEnvironment(变量环境)组件被创建。

**This Binding**
* 全局执行上下文中,`this`值指向全局对象，在浏览器中，`this`指向window对象。在`nodejs`中，指向这个文件的`module`中
* 函数执行上下文中，`this`值指向由调用方式决定，有：默认绑定、隐式绑定、显示绑定、new绑定、箭头函数

****
## 1.2 JavaScript深入之执行上下文栈和变量对象