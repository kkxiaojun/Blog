# 执行上下文栈和变量对象

JS是单线程的语言，是顺序执行，但是JS引擎是一段一段地分析执行。先编译后执行。



**变量提升**

```
foo; // undefined
var foo = function () { console.log('foo') }

```



**函数提升**

```
foo() // foo
function foo() { console.log('foo') }
```



**函数声明优先级高于变量声明**

```
foo();  // foo2
var foo = function() {
    console.log('foo1');
}

foo();  // foo1，foo重新赋值

function foo() {
    console.log('foo2');
}

foo(); // foo1
```

**总结**

1. 全局上下文的变量对象初始化是全局对象
2. 函数上下文的变量对象初始化只包括Arguments对象
3. 在进入执行上下文时会给变量对象添加形参、函数声明、声明变量等初始的属性值
4. 在代码执行阶段会再次改变变量对象的属性值